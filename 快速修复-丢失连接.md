# 🔧 快速修复：连接丢失后创建 batch-sell.ts

## ⚡ 最简单的方法（推荐）

### 在服务器上直接运行脚本

1. **上传脚本到服务器**（如果还没有）：
   ```bash
   # 在本地 PowerShell 执行
   scp create-batch-sell.sh root@服务器IP:/root/projects/poly-copy-trading/
   ```

2. **在服务器上运行**：
   ```bash
   cd /root/projects/poly-copy-trading
   bash create-batch-sell.sh
   ```

---

## 📋 手动创建方法（如果脚本不可用）

### 在服务器上执行以下命令：

```bash
# 1. 进入项目目录
cd /root/projects/poly-copy-trading
# 或
cd ~/poly-copy-trading

# 2. 创建 src 目录
mkdir -p src

# 3. 创建文件
nano src/batch-sell.ts
```

### 然后复制粘贴完整内容

打开本地的 `batch-sell-complete.txt` 文件，**完整复制所有内容**，粘贴到服务器的 nano 编辑器中：

- 粘贴：`Shift+Insert` 或右键点击
- 保存：`Ctrl+O` → `Enter` → `Ctrl+X`

---

## ✅ 验证文件已创建

```bash
# 检查文件
ls -la src/batch-sell.ts

# 查看前几行（确认内容正确）
head -10 src/batch-sell.ts

# 应该看到：
# // 尝试多种导入方式以兼容不同的 SDK 版本
# import dotenv from 'dotenv';
```

---

## 🧪 测试运行

```bash
# 模拟模式（不会真实出售）
npx tsx src/batch-sell.ts

# 如果成功，会显示：
# ═══════════════════════════════════════════════════
#    Polymarket 批量出售代币工具
# ═══════════════════════════════════════════════════
```

---

## 📝 完整文件内容位置

本地文件：
- `d:\000\poly-copy-trading-main\src\batch-sell.ts`
- `d:\000\poly-copy-trading-main\batch-sell-complete.txt`

两个文件内容相同，可以任选一个复制。

---

## 🔄 如果连接不稳定

### 方法 1：使用 SCP 上传（推荐）

在本地 PowerShell：
```powershell
cd D:\000\poly-copy-trading-main
scp src/batch-sell.ts root@服务器IP:/root/projects/poly-copy-trading/src/
```

### 方法 2：使用 WinSCP 或其他 SFTP 工具

1. 连接到服务器
2. 导航到 `/root/projects/poly-copy-trading/src/`
3. 拖拽上传 `batch-sell.ts` 文件

---

## ⚠️ 常见问题

### 问题 1：找不到项目目录

```bash
# 查找项目目录
find /root -name "package.json" -type f 2>/dev/null
find ~ -name "package.json" -type f 2>/dev/null
```

### 问题 2：文件权限错误

```bash
chmod 644 src/batch-sell.ts
```

### 问题 3：路径不对

根据错误信息，服务器路径是 `/root/projects/poly-copy-trading/`，确保使用正确的路径。
