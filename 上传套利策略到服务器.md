# ğŸ“¤ ä¸Šä¼ å¥—åˆ©ç­–ç•¥åˆ°æœåŠ¡å™¨æŒ‡å—

## ğŸ“‹ ä¸Šä¼ å†…å®¹

æœ¬æ¬¡ä¸Šä¼ åŒ…å«ä»¥ä¸‹æ–°æ–‡ä»¶ï¼š

1. **`src/arbitrage-strategy.ts`** - 15åˆ†é’Ÿå¥—åˆ©ç­–ç•¥è„šæœ¬
2. **`src/generate-api-clob.ts`** - APIå‡­è¯ç”Ÿæˆè„šæœ¬ï¼ˆCLOBï¼‰
3. **`src/generate-api-credentials.ts`** - APIå‡­è¯ç”Ÿæˆè„šæœ¬ï¼ˆSDKï¼‰
4. **`package.json`** - æ›´æ–°çš„é¡¹ç›®é…ç½®ï¼ˆåŒ…å«æ–°è„šæœ¬å‘½ä»¤ï¼‰
5. **`env.example.txt`** - æ›´æ–°çš„ç¯å¢ƒå˜é‡é…ç½®ç¤ºä¾‹
6. **`ecosystem.config.js`** - PM2 é…ç½®æ–‡ä»¶

---

## ğŸš€ æ–¹æ³• 1ï¼šä½¿ç”¨ PowerShell è„šæœ¬ï¼ˆæ¨èï¼‰

### æ­¥éª¤ 1ï¼šé…ç½®æœåŠ¡å™¨ä¿¡æ¯

ç¼–è¾‘ `upload-to-server.ps1` æ–‡ä»¶ï¼Œä¿®æ”¹æœåŠ¡å™¨IPï¼š

```powershell
$SERVER_IP = "ä½ çš„æœåŠ¡å™¨IP"  # ä¾‹å¦‚ï¼š109.176.207.148
$SERVER_PATH = "/root/projects/poly-copy-trading"  # æˆ– /root/poly-copy-trading
```

### æ­¥éª¤ 2ï¼šè¿è¡Œä¸Šä¼ è„šæœ¬

```powershell
.\upload-to-server.ps1
```

è„šæœ¬ä¼šè‡ªåŠ¨ä¸Šä¼ æ‰€æœ‰æ–‡ä»¶åˆ°æœåŠ¡å™¨ã€‚

---

## ğŸ”§ æ–¹æ³• 2ï¼šä½¿ç”¨ SCP æ‰‹åŠ¨ä¸Šä¼ 

### ä¸Šä¼ å•ä¸ªæ–‡ä»¶

```bash
# å¥—åˆ©ç­–ç•¥è„šæœ¬
scp src/arbitrage-strategy.ts root@ä½ çš„æœåŠ¡å™¨IP:/root/projects/poly-copy-trading/src/

# APIå‡­è¯ç”Ÿæˆè„šæœ¬
scp src/generate-api-clob.ts root@ä½ çš„æœåŠ¡å™¨IP:/root/projects/poly-copy-trading/src/
scp src/generate-api-credentials.ts root@ä½ çš„æœåŠ¡å™¨IP:/root/projects/poly-copy-trading/src/

# é…ç½®æ–‡ä»¶
scp package.json root@ä½ çš„æœåŠ¡å™¨IP:/root/projects/poly-copy-trading/
scp env.example.txt root@ä½ çš„æœåŠ¡å™¨IP:/root/projects/poly-copy-trading/
```

### ä¸Šä¼ æ•´ä¸ª src ç›®å½•

```bash
scp -r src/ root@ä½ çš„æœåŠ¡å™¨IP:/root/projects/poly-copy-trading/
```

---

## ğŸ“ æ–¹æ³• 3ï¼šä½¿ç”¨ Gitï¼ˆå¦‚æœæœåŠ¡å™¨å·²é…ç½® Gitï¼‰

### åœ¨æœåŠ¡å™¨ä¸Šæ‹‰å–æœ€æ–°ä»£ç 

```bash
# è¿æ¥åˆ°æœåŠ¡å™¨
ssh root@ä½ çš„æœåŠ¡å™¨IP

# è¿›å…¥é¡¹ç›®ç›®å½•
cd /root/projects/poly-copy-trading

# æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# å®‰è£…æ–°ä¾èµ–
npm install
```

---

## âœ… æœåŠ¡å™¨ç«¯æ“ä½œæ­¥éª¤

### 1. å®‰è£…æ–°ä¾èµ–

```bash
cd /root/projects/poly-copy-trading
npm install
```

è¿™ä¼šå®‰è£…æ–°æ·»åŠ çš„ä¾èµ–ï¼ˆå¦‚ `@polymarket/clob-client` å’Œ `ethers@5`ï¼‰ã€‚

### 2. æ›´æ–° .env æ–‡ä»¶

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œæ·»åŠ å¥—åˆ©ç­–ç•¥é…ç½®ï¼š

```bash
nano .env
```

æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š

```env
# å¥—åˆ©ç­–ç•¥é…ç½®
ARBITRAGE_BUY_PRICE=0.80
ARBITRAGE_SELL_PRICE=0.90
ARBITRAGE_CHECK_INTERVAL=60000
ARBITRAGE_HOLDING_TIMEOUT=900000
# ARBITRAGE_TOKEN_ID=  # å¯é€‰ï¼Œç›‘æ§æŒ‡å®šä»£å¸
DRY_RUN=true  # å»ºè®®å…ˆä½¿ç”¨æ¨¡æ‹Ÿæ¨¡å¼
```

### 3. æµ‹è¯•å¥—åˆ©ç­–ç•¥

```bash
# æ¨¡æ‹Ÿæ¨¡å¼æµ‹è¯•
npm run arbitrage

# æˆ–ç›´æ¥è¿è¡Œ
npx tsx src/arbitrage-strategy.ts
```

### 4. ç”Ÿæˆ API å‡­è¯ï¼ˆå¦‚æœéœ€è¦ï¼‰

```bash
npm run generate-api-clob
```

### 5. ä½¿ç”¨ PM2 è¿è¡Œï¼ˆå¯é€‰ï¼‰

```bash
# å¦‚æœè¦åœ¨åå°è¿è¡Œå¥—åˆ©ç­–ç•¥ï¼Œå¯ä»¥åˆ›å»ºæ–°çš„ PM2 é…ç½®
# æˆ–ç›´æ¥è¿è¡Œ
pm2 start npm --name "arbitrage" -- run arbitrage
pm2 save
```

---

## ğŸ” éªŒè¯ä¸Šä¼ 

### æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨

```bash
ssh root@ä½ çš„æœåŠ¡å™¨IP
cd /root/projects/poly-copy-trading

# æ£€æŸ¥æ–‡ä»¶
ls -la src/arbitrage-strategy.ts
ls -la src/generate-api-clob.ts
ls -la package.json

# æ£€æŸ¥ npm è„šæœ¬
cat package.json | grep arbitrage
```

---

## ğŸ†˜ æ•…éšœæ’æŸ¥

### é—®é¢˜ 1ï¼šSCP è¿æ¥å¤±è´¥

**è§£å†³**ï¼š
- æ£€æŸ¥æœåŠ¡å™¨IPæ˜¯å¦æ­£ç¡®
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- ç¡®è®¤SSHå¯†é’¥å·²é…ç½®

### é—®é¢˜ 2ï¼šæ–‡ä»¶æƒé™é—®é¢˜

**è§£å†³**ï¼š
```bash
# åœ¨æœåŠ¡å™¨ä¸Šè®¾ç½®æ–‡ä»¶æƒé™
chmod 644 src/arbitrage-strategy.ts
chmod 644 package.json
```

### é—®é¢˜ 3ï¼šä¾èµ–å®‰è£…å¤±è´¥

**è§£å†³**ï¼š
```bash
# æ¸…é™¤ç¼“å­˜åé‡æ–°å®‰è£…
npm cache clean --force
rm -rf node_modules package-lock.json
npm install
```

---

## âš¡ å¿«é€Ÿå‘½ä»¤

```bash
# 1. ä¸Šä¼ æ–‡ä»¶ï¼ˆä½¿ç”¨è„šæœ¬ï¼‰
.\upload-to-server.ps1

# 2. åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…ä¾èµ–
ssh root@ä½ çš„æœåŠ¡å™¨IP "cd /root/projects/poly-copy-trading && npm install"

# 3. æµ‹è¯•è¿è¡Œ
ssh root@ä½ çš„æœåŠ¡å™¨IP "cd /root/projects/poly-copy-trading && npm run arbitrage"
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [å¥—åˆ©ç­–ç•¥ä½¿ç”¨æŒ‡å—](./å¥—åˆ©ç­–ç•¥ä½¿ç”¨æŒ‡å—.md)
- [å¿«é€Ÿå¥—åˆ©ç­–ç•¥](./å¿«é€Ÿå¥—åˆ©ç­–ç•¥.txt)
- [ç¯å¢ƒå˜é‡é…ç½®è¯´æ˜](./ç¯å¢ƒå˜é‡é…ç½®è¯´æ˜.md)
